---
title: "Cloud function for Firebaseã§CORSã‚¨ãƒ©ãƒ¼ã ã¨æ€ã„ãã‚„ã€èªè¨¼ã‚¨ãƒ©ãƒ¼ã ã£ãŸè©±"
emoji: "ğŸ“˜"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [firebase]
published: false
---

ä»Šå›ã¯ã€firebaseã®functionsã§APIã‚’ç«‹ã¦ã¦ã€ãƒ•ãƒ­ãƒ³ãƒˆã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é£›ã°ãã†ã¨ã—ãŸã‚‰ã€åˆæœŸè¨­å®šã§èº“ã„ãŸè©±

çµè«–
- GCPã‹ã‚‰è¨­å®šã§`allUsers` ã‚’æŒ‡å®šã™ã‚‹
- firebase-adminã«å¯¾ã—ã¦ã€firebaseã‹ã‚‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚­ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€jsonã‚’èª­ã¿è¾¼ã¿

![](/images/ScreenShot-2022-12-08-10.06.31.png)

ã“ã®ç”»é¢ã‹ã‚‰ã€`æ–°ã—ã„ç§˜å¯†éµã‚’ç”Ÿæˆ`ã‹ã‚‰jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

```js
const admin = require("firebase-admin");
const serviceAccount = require("path/to/serviceAccountKey.json"); //ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦jsonãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
admin.initializeApp({
  credential: admin.credential.cert(serviceAccount),
  databaseURL: "https://[APPã®åå‰].firebaseio.com"
});
```

ã“ã‚Œã§
